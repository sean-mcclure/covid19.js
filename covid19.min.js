/*! covid19.js v1.1.1 | (c) | Created by Sean McClure - MIT License */
covid={urls:urls={countries:"https://raw.githubusercontent.com/coviddata/coviddata/master/docs/v1/countries/stats_pretty.json",regions:"https://raw.githubusercontent.com/coviddata/coviddata/master/docs/v1/regions/stats_pretty.json",places:"https://raw.githubusercontent.com/coviddata/coviddata/master/docs/v1/places/stats_pretty.json",fips:"https://collaboratescience.com/covid19/fips.json",country_codes:"https://collaboratescience.com/covid19/country_codes.json"},fetch_data:function(e,t){fetch(t).then(e=>e.text()).then(t=>{covid[e]=JSON.parse(t)})},fetch_all_data:function(){Object.values(covid.urls).forEach(function(e,t){covid.fetch_data(Object.keys(covid.urls)[t],e)})},cap_first_letter:function(e){var t=[];return e.split(" ").forEach(function(e){t.push(e.charAt(0).toUpperCase()+e.substring(1))}),t.join(" ")},get_time_series_countries:function(e="cumulative",t="cases",c="Canada"){var i=[];return covid.countries.forEach(function(o){o.country.name===covid.cap_first_letter(c)&&Object.keys(o.dates).forEach(function(c,n){var r={};r.date=c,r.value=Object.values(o.dates)[n][e][t],i.push(r)})}),i},get_time_series_regions:function(e="cumulative",t="cases",c="Ontario"){var i=[];return covid.regions.forEach(function(o){o.region.name===covid.cap_first_letter(c)&&Object.keys(o.dates).forEach(function(c,n){var r={};r.date=c,r.value=Object.values(o.dates)[n][e][t],i.push(r)})}),i},get_time_series_fips:function(e="cumulative",t="cases",c="36061"){var i=[],o=covid.get_place_from_fips(c)[0].place,n=covid.get_place_from_fips(c)[0].Province_State;return covid.places.forEach(function(c){c.place.name.includes(covid.cap_first_letter(o))&&c.place.region.name.includes(covid.cap_first_letter(n))&&Object.keys(c.dates).forEach(function(o,n){var r={};r.date=o,r.value=Object.values(c.dates)[n][e][t],i.push(r)})}),i},get_time_series:function(e,t,c){var i;return covid.get_all_countries().includes(covid.cap_first_letter(c))&&(i=covid.get_time_series_countries(e,t,c)),covid.get_all_regions().includes(covid.cap_first_letter(c))&&(i=covid.get_time_series_regions(e,t,c)),covid.get_all_fips().includes(covid.cap_first_letter(c))&&(i=covid.get_time_series_fips(e,t,c)),i},get_time_series_multiple:function(e="cumulative",t="cases",c=["Germany","Italy","France","United Kingdom"]){if(covid.get_all_countries().includes(covid.cap_first_letter(c[0]))){var i={};c.forEach(function(c){i[c]=covid.get_time_series(e,t,c)})}if(covid.get_all_regions().includes(covid.cap_first_letter(c[0]))){i={};c.forEach(function(c){i[c]=covid.get_time_series(e,t,c)})}if(covid.get_all_fips().includes(covid.cap_first_letter(c[0]))){i={};c.forEach(function(c){i[c]=covid.get_time_series_fips(e,t,c)})}return i},get_time_series_multiple_sum:function(e="cumulative",t="cases",c=["Germany","Italy","France","United Kingdom"]){var i={},o=[];Object.values(covid.get_time_series_multiple("cumulative","cases",c)).forEach(function(e){e.forEach(function(e){o.includes(e.date)?i[e.date].push(e.value):i[e.date]=[e.value],o.push(e.date)})});var n={};return Object.values(i).forEach(function(e,t){n[Object.keys(i)[t]]=e.reduce((e,t)=>e+t,0)}),n},check_if_country:function(e){return!!covid.get_all_countries().includes(e)},check_if_region:function(e){return!!covid.get_all_regions().includes(e)},get_all_countries:function(){var e=[];return covid.countries.forEach(function(t){e.push(t.country.name)}),e},get_all_regions:function(){var e=[];return covid.regions.forEach(function(t){e.push(t.region.name)}),e},get_all_places:function(){var e=[];return covid.places.forEach(function(t){e.push(t.place.name)}),e},get_all_fips:function(){var e=[];return covid.fips.forEach(function(t){e.push(t.FIPS)}),e},get_location_report:function(e){var t={};return["cases","deaths","recoveries"].forEach(function(c){var i=[];void 0!==covid.get_time_series("new",c,e)&&covid.get_time_series("new",c,e).forEach(function(e){i.push(e.value)}),t[c]=i.reduce((e,t)=>e+t,0)}),t},get_global_report:function(){var e=[];covid.get_all_countries().forEach(function(t){e.push(covid.get_location_report(t))});var t=[],c=[],i=[];e.forEach(function(e){t.push(e.cases),c.push(e.deaths),i.push(e.recoveries)});var o=t.reduce((e,t)=>e+t,0),n=c.reduce((e,t)=>e+t,0),r=i.reduce((e,t)=>e+t,0),a={};return a.cases=o,a.deaths=n,a.recoveries=r,a},check_if_location_in_data:function(e){return res=!1,covid.get_all_countries().includes(covid.cap_first_letter(e))||covid.get_all_regions().includes(covid.cap_first_letter(e))?res=!0:res=!1,res},get_available_dates:function(){return Object.keys(covid.countries[0].dates)},get_countries_and_regions:function(){var e=[];return covid.regions.forEach(function(t){var c={};c.country=t.region.country.name,c.region=t.region.name,e.push(c)}),e},get_country_from_region:function(e){var t="";return covid.get_countries_and_regions().forEach(function(c){c.region===covid.cap_first_letter(e)&&(t=c.country)}),t},get_regions_from_country:function(e){var t=[];return covid.get_countries_and_regions().forEach(function(c){c.country===covid.cap_first_letter(e)&&t.push(c.region)}),t},check_if_country_has_region:function(e){var t=!1;return covid.get_regions_from_country(e).length>0&&(t=!0),t},find_code_by_country:function(e){var t=!1;return covid.country_codes.forEach(function(c){c.Country.includes(covid.cap_first_letter(e.split(" ")[0].trim()))&&(t=c.country_code)}),t},find_code_by_region:function(e){var t=!1,c=covid.get_country_from_region(e);return covid.country_codes.forEach(function(e){e.Country.includes(covid.cap_first_letter(c))&&(t=e.country_code)}),t},get_flag_url:function(e){return"https://collaboratescience.com/corona/flags/"+e+".png"},get_country_flag:function(e){if(covid.check_if_country(covid.cap_first_letter(e)))var t=covid.find_code_by_country(covid.cap_first_letter(e));else t=covid.find_code_by_region(covid.cap_first_letter(e));return covid.get_flag_url(t.toLowerCase())},get_fips_from_place:function(e){var t=[];return covid.fips.forEach(function(c){if(c.Admin2===covid.cap_first_letter(e)){var i={};i.FIPS=c.FIPS,i.Province_State=c.Province_State,t.push(i)}}),t},get_place_from_fips:function(e){var t=[];return covid.fips.forEach(function(c){if(c.FIPS===e){var i={};i.FIPS=c.FIPS,i.place=c.Admin2,i.Province_State=c.Province_State,i.Country_Region=c.Country_Region,t.push(i)}}),t},call_callback:function(e){},call_once_satisfied:function call_once_satisfied(props){eval(props.condition)?"function"==typeof props.function?covid.call_callback(props.function()):eval(props.function):setTimeout(function(){call_once_satisfied(props)},100)}},covid.fetch_all_data(),covid.is_ready=!1,covid.call_once_satisfied({condition:"typeof(covid.countries) !== 'undefined' && typeof(covid.regions) !== 'undefined' && typeof(covid.places) !== 'undefined' && typeof(covid.fips) !== 'undefined' && typeof(covid.country_codes) !== 'undefined'",function:function(){covid.is_ready=!0}});